(g=>{g.fn.MinimogNiceSelect=function(h){var d="focused",r="selected",o={height:190,width:200};return this.each(function(){var e,t=g(this),i=g(this).data("select")?g(this).data("select"):{},s=g.extend(o,h,i),i=s.fieldLabel?'<span class="label">'+s.fieldLabel+"</span>":"",a=g('<div class="minimog-nice-select-current">'+i+'<span class="value"></span></div>'),n=g('<ul class="minimog-nice-select"></ul>'),l="",c=(t.children("option").each(function(){var e="item";g(this).is(":selected")&&(a.find(".value").text(g(this).text()),e+=" "+r),l+='<li class="'+e+'" data-value="'+g(this).val()+'">'+g(this).text()+"</li>"}),n.html(l),g('<div class="minimog-nice-select-wrap"></div>')),i=(c.append(a).append(n),n.width(s.width),setTimeout(function(){n.height(Math.min(s.height,n.height()))},100),a.on("click",function(){c.toggleClass(d)}),c.on("click","li",function(){c.removeClass(d),g(this).hasClass(r)||(g(this).siblings().removeClass(r),g(this).addClass(r),a.find(".value").text(g(this).text()),t.val(g(this).data("value")),t.trigger("change"))}),g(document).on("click touchstart",function(e){0===g(e.target).closest(c).length&&c.removeClass(d)}),!1);s.renderTarget&&0<(e="object"==typeof s.renderTarget?s.renderTarget:g(s.renderTarget)).length&&(e.append(c),i=!0),!1===i&&t.after(c),t.hide()})}})(jQuery);