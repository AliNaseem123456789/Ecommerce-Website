(b=>{var w=b("body"),y=window.minimog.Helpers;class t extends HTMLElement{constructor(){super()}connectedCallback(){new Readmore(this,{moreLink:'<a href="#" class="btn btn-flat btn-small">'+$minimogProductSingle.i18n.readMore+"</a>",lessLink:'<a href="#" class="btn btn-flat btn-small">'+$minimogProductSingle.i18n.readLess+"</a>"})}}function _(t,e,i,o,n){n=n.parents(".row-isw-swatch").first();n.hasClass("row-isw-swatch--isw_select")||n.find(".selected-term-name").html(o)}customElements.define("text-collapsible",t),b(document).ready(function(){function n(t){b.fn.lightGallery&&t.hasClass("has-light-gallery")&&(t.removeData("lightGallery"),t.lightGallery(window.minimog.LightGallery))}var t,o,e,i,a,l,s,r,c,d;if((s=b(".woo-single-gallery")).length<=0||s.each(function(){let t=b(this);var e,i,o;e=t,!$minimog.isSingle||"product"!==$minimog.postType||"slider"!==$minimogProductSingle.featureStyle&&"slider-02"!==$minimogProductSingle.featureStyle&&"carousel"!==$minimogProductSingle.featureStyle||(i={},e.hasClass("has-thumbs-slider")&&(o=e.find(".minimog-thumbs-swiper").MinimogSwiper(),i={thumbs:{swiper:o,autoScrollOffset:2}}),e.children(".minimog-main-swiper").MinimogSwiper(i)),n(t),t.on("minimog_wc_gallery_init_light_gallery",()=>{n(t)})}),"1"===$minimogProductSingle.singleProductStickyBar){let e=b("#sticky-product-bar"),i=b(".entry-product form.cart");e.length<=0||i.length<=0||(t=i.find(".single_add_to_cart_button").offset().top,s=e.outerHeight(),o="showing",w.css("--sticky-atc-bar-height",s+"px"),e.on("click",".sticky-product-bar-close",function(t){t.preventDefault(),e.addClass("hide"),w.css("--sticky-atc-bar-height",0)}),b(window).on("scroll",function(){b(this).scrollTop()>t?e.addClass(o):e.removeClass(o)}),b(document.body).on("click",".sticky-product-add_to_cart_button",function(t){t.preventDefault();t=i.offset().top-132;b("html, body").animate({scrollTop:t},600)}))}if((s=b("#commentform")).on("click",".comment-form__attachment-button",function(){b(this).closest(".comment-form").find(".comment-form-attachment__input").trigger("click")}),s.on("change",".comment-form-attachment__input",function(t){var e=b(this).closest(".comment-form").find(".comment-form__attachment-button"),t=this.files&&1<this.files.length?$minimogProductSingle.i18n.filesSelected.replace("{count}",this.files.length):t.target.value.split("\\").pop();e.find(".button-text").text(t)}),s="1"===$minimog.light_gallery_download,g="1"===$minimog.light_gallery_auto_play,p="1"===$minimog.light_gallery_zoom,d="1"===$minimog.light_gallery_full_screen,h="1"===$minimog.light_gallery_share,e={selector:"a",mode:"lg-fade",thumbnail:"1"===$minimog.light_gallery_thumbnail,download:s,autoplay:g,zoom:p,share:h,fullScreen:d,hash:!1,animateThumb:!1,showThumbByDefault:!1,getCaptionFromTitleOrAlt:!1},b(".dco-attachment-gallery").each(function(){b(this).lightGallery(e)}),s=b("#woo-single-info .entry-summary > .variations_form"),i=s.siblings(".woobt-wrap").find(".woobt-product-this"),s.find("select").on("change",function(){var t=b(this),e=t.attr("name"),t=t.val();i.find('.variations_form select[name="'+e+'"]').val(t).trigger("change")}),b.fn.perfectScrollbar&&!y.isHandheld()&&b(".woobt-products-wrap").perfectScrollbar({suppressScrollY:!0,useBothWheelAxes:!0}),"product"===$minimog.postType){var m=$minimog.postID,g="recent_viewed_products",p=y.getCookie(g),h=m;if(""!==p){for(var u=p.split(","),f=0;f<u.length;f++)for(;u[f]==m;)u.splice(f,1);u.unshift(m),20<u.length&&u.slice(1,20),h=u.join()}y.setCookie(g,h,7)}(d=b("#live-viewing-visitors")).length<=0||({min:a,max:l,duration:s,labels:r}=d.data("settings"),c=d.find(".text"),a=parseInt(a),l=parseInt(l),setInterval(function(){var t=y.randomInteger(a,l),e=(e=1<t?r.plural:r.singular).replace("%s",'<span class="count">'+t+"</span>");c.html(e)},s)),p=b(".minimog-size-guide__table-wrapper"),b.fn.perfectScrollbar&&0<p.length&&p.perfectScrollbar({suppressScrollY:!0,useBothWheelAxes:!0}),b(document.body).on("click","#product-share-url",function(){var t=b(this).parent();y.copyToClipboard(b(this).val())&&t.attr("aria-label",t.attr("data-copied")),setTimeout(function(){t.attr("aria-label",t.attr("data-copy"))},2e3)}),w.on("isw_selected",_),b(".minimog-tabs").MinimogTabPanel(),b(document.body).on("click",".woobt-add-btn",function(t){t.preventDefault();var t="checked",e=b(this),i=e.attr("data-pid"),i=e.parents(".woobt-images").siblings(".woobt-products").find('.woobt-product[data-pid="'+i+'"]').find(".woobt-checkbox"),o=e.hasClass(t);e.toggleClass(t),i.prop("checked",!o),i.trigger("change")}),b(document.body).on("change",".woobt-layout-separate .woobt-checkbox",function(){var t=b(this),e=t.closest(".woobt-product"),i=e.data("pid"),t=t.prop("checked"),e=e.parents(".woobt-products").siblings(".woobt-images").find(".woobt-image-"+i).find(".woobt-add-btn");t?e.addClass("checked"):e.removeClass("checked")}),b(document.body).on("click",".btn-open-product-360",function(t){t.preventDefault();var t=b('<div id="modal-product-360" class="modal-product-360"></div>'),i=b.extend({},{sense:-1,responsive:!0,animate:!1,plugins:["360","wheel","drag"]},b(this).data("spritespin-settings")),o=i.height/i.width;w.append(t),t.MinimogModal({dynamic:!0,removeOnClose:!0,afterInit:function(t){var t=t.$el.find(".modal-content-inner"),e=b('<div id="product-360-spritespin" class="product-360-spritespin" style="--aspect-ratio: '+o+'"></div>');t.append(e),e.spritespin(i)}})})})})(jQuery);